<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ç”¨swiftå¼€å‘æœåŠ¡ç«¯åº”ç”¨</title>
  <meta name="description" content="">
  <link rel="stylesheet" href="/css/main.css">
</head>

  <body>

    <div class="site-header">

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <i class="fa fa-navicon fa-lg"></i>
      </a>

      <div class="trigger">
          <a class="page-link" href="/"> Home</a>
        
          
          <a class="page-link" href="/about.html">å…³äºå‹åŠ›</a>
          
        
      </div>
    </nav>


</div>

    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
     <h1 class="post-title">ç”¨swiftå¼€å‘æœåŠ¡ç«¯åº”ç”¨</h1>
     <p class="post-meta">Posted on 2016å¹´3æœˆ20æ—¥</p>
  </header>

  <article class="post-content">
    <p>å»å¹´Swiftå¼€æºçš„æ—¶å€™å°±æ‰“ç®—è¯•è¯•ç”¨Swiftæ¥å¼€å‘æœåŠ¡ç«¯äº†, ä¸è¿‡äº‹æƒ…å¤ªå¤š, å¾ˆå¤šè½®å­ä¹Ÿä¸å…·å¤‡, å¤§æŠµä¸Šéœ€è¦è‡ªå·±é‡å†™å¾ˆå¤šä¸œè¥¿, ä½†æ˜¯äººæ°‘çš„åŠ›é‡æ˜¯å¼ºå¤§çš„, å‡ ä¸ªæœˆè¿‡å»å, å¤§æ‰¹çš„è½®å­å·²ç»åœ¨è·¯ä¸Šäº†, ç”±äºIBMçš„é‡‘å¤§è…¿åŠ å…¥, Swiftè¿›å…¥åç«¯å¼€å‘çš„è¿›åº¦æ˜æ˜¾çš„åŠ å¿«äº†.IBMçš„äº‘è®¡ç®—æœåŠ¡å·²ç»æ”¯æŒSwiftä½œä¸ºåç«¯æœåŠ¡çš„å¼€å‘è¯­è¨€, å¹¶ä¸”æ¨å‡ºäº†Swiftçš„Webæ¡†æ¶:<a href="https://github.com/IBM-Swift/Kitura">Kitura </a> . ä¸è¿‡ç»è¿‡ä¸¤å¤©è¯•ç”¨åå‘ç°æ­¤è´§ç¼–è¯‘å°¤å…¶éº»çƒ¦, releaseç¼–è¯‘è‡³ä»Šæ²¡æœ‰é€šè¿‡è¿‡ä¸€æ¬¡, ä¸”debugæ¨¡å¼ä¸‹æ€§èƒ½é—®é¢˜ä¹Ÿå¾ˆçªå‡º, é‚æ”¾å¼ƒä¹‹, åæ¥åœ¨å…¨çƒè‘—åçš„åŒæ€§äº¤å‹ç½‘ç«™ä¸Šæ‰¾åˆ°å¦å¤–ä¸€ä¸ªstarè¶…é«˜çš„æ¡†æ¶:<a href="https://github.com/necolt/Swifton">Swifton</a></p>
<p>è¿™ä¸ªæ¡†æ¶çš„åå­—å¾ˆæœ‰æ„æ€</p>
<p><img alt="" src="http://ww1.sinaimg.cn/large/578b198bgw1f20xcpria0j20zi0l2afy.jpg" />
ç”±äºè·¯ç”±è¿™äº›éƒ½æ˜¯ç…§æ¬Rails, è€Œä¸”åˆæ²¡æœ‰ORM, è„šæ‰‹æ¶å‘½ä»¤æ›´æ˜¯ç©ºè¯, æ–‡æ¡£å°±æ›´æ˜¯å› é™‹å°±ç®€äº†, æ‰€ä»¥å¦‚æœswiftæ¯”è¾ƒç†Ÿç»ƒçš„è¯è‡ªå·±RTFCæ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©.</p>
<h2>ç¯å¢ƒé¢„å¤‡</h2>
<p>Swiftçš„æœåŠ¡ç«¯ç¯å¢ƒç°åœ¨è€Œä»Šçœ¼ç›®ä¸‹çš„çŠ¶å†µæ˜¯æ¯”è¾ƒå±€ä¿ƒçš„, å¦‚æœä¸å·®é’±ä¹°ä¸ªåƒåœ¾æ¡¶æ‹¿å»æ‰˜ç®¡, ä¹Ÿok, è¦æ˜¯è‡ªå·±å‡†å¤‡Linuxç¯å¢ƒçš„è¯ä¹Ÿå°±åªèƒ½Ubuntuäº†,å¹¸äºè¿™ä¸ªè¿˜æ˜¯æ¯”è¾ƒä¸»æµçš„,ä¸è¿‡å¥½äº›é¡¹ç›®éƒ½åœ¨Centosä¸Š, ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚
æœ¬åœ°å¼€å‘ç¯å¢ƒæ¯”è¾ƒå¥½è§£å†³, å¤šäºäº†IBMçš„é‡‘å¤§è…¿, <a href="https://github.com/IBM-Swift/Kitura">Kitura </a>  çš„Reponsitoryé‡Œæœ‰Dockerçš„è„šæœ¬å’ŒVagrantçš„vagrantfile. ç”±äºæˆ‘åœ¨æœ¬åœ°å¼€å‘ç”¨çš„æ˜¯Vagrant, æ‰€ä»¥åªéœ€è¦copyè¿™ä¸ªfileåˆ°é¡¹ç›®ç›®å½•ä¸‹, ç„¶åvagrant up, ç»è¿‡æ¼«é•¿çš„ç­‰å¾…(å¤§æ¦‚20åˆ†é’Ÿ), Swiftçš„æœ¬åœ°è°ƒè¯•ç¯å¢ƒå°±æ­å»ºå¥½äº†. </p>
<h2>å¼€å§‹å¿«ä¹çš„coding</h2>
<p>é¦–å…ˆå»ºç«‹ä¸€ä¸ªé¡¹ç›®</p>
<pre><code>$~/project_path&gt;swift build --init 
Creating Package.swift
Creating .gitignore
Creating Sources/
Creating Sources/main.swift
Creating Tests/
</code></pre>
<p>ç„¶ååŠ å…¥Swiftonçš„ä¾èµ–, vim Package.swift, åŠ å…¥ä¾èµ–åå°±æ˜¯ä¸‹é¢è¿™æ ·å­:</p>
<pre><code>dependencies: [
              .Package(url: "https://github.com/necolt/Swifton.git",     versions: Version(0,0,5)..&lt;Version(1,0,0)),
              .Package(url: "https://github.com/necolt/Curassow.git", versions: Version(0,4,0)..&lt;Version(1,0,0)),
         ]
</code></pre>
<p>å»ä¸­Curassowæ˜¯ä¸€ä¸ªåµŒå…¥å¼çš„Http Server, éƒ¨ç½²çš„æ—¶å€™ç”¨å®ƒæ¥éƒ¨ç½², å¥½å¤„æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒå¯ä»¥ç›´æ¥å¯åŠ¨å¤šä¸ªè¿›ç¨‹æ¥æé«˜æ€§èƒ½.
ä¹‹åç”¨</p>
<pre><code>$~/project_path&gt;swift build
</code></pre>
<p>å°±å¼€å§‹ä¸‹è½½ä¾èµ–å¼€å§‹ç¼–è¯‘äº†. ä¸è¿‡ä¸–äº‹æ— å¸¸, è¿™é‡Œç¼–è¯‘å¿…å®šæ˜¯ä¼šå‡ºé”™çš„. å› ä¸ºSwift  buildåœ¨Devç‰ˆåŠ å…¥äº†TeståŠŸèƒ½, ç„¶åæœ‰ä¸ªbug, ä¼šå’Œå¾ˆå¤šè‡ªå¸¦äº†Testé¡¹ç›®çš„Testsç›®å½•å†²çª, ç¼–è¯‘çš„æ—¶å€™æŠ¥æ‰¾ä¸åˆ°Testsç›®å½•ä¸‹çš„èµ„æº. æ‰€ä»¥è¿™é‡Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ä¸¤ä¸ªé¡¹ç›®ä¸‹çš„Testsç›®å½•</p>
<pre><code>$~/project_path&gt;rm -rf ./Packages/PathKit-0.6.1/Tests
$~/project_path&gt;rm -rf ./Packages/Stencil-0.5.3/Tests
</code></pre>
<p>ä¹‹åå†è¿è¡Œç¼–è¯‘å°±ä¼šç›´æ¥é€šè¿‡äº†.
å½“ç„¶ç°åœ¨å•¥ä¹Ÿå¹²ä¸äº†, åªèƒ½è¯æ˜ç¯å¢ƒé€šé¡ºäº†, ä¸‹é¢å¼€å§‹æ­£å¼coding.</p>
<p>å…ˆåˆ›å»ºä¸€ä¸ªController.</p>
<pre><code>$~/project_path&gt;touch ./Sources/HelloController.swift
</code></pre>
<p>å†™å…¥å¦‚ä¸‹å†…å®¹:</p>
<pre><code>import Swifton

class HelloController:Controller{
    override init() {
        super.init()
        action("index") {request in
            return renderJSON(["hello": "world"])
        }
    }
}
</code></pre>
<p>ç„¶ååœ¨main.swifté‡Œè¿™ä¹ˆå†™:</p>
<pre><code>import Swifton
import Curassow
let router = Router()
router.get("/", HelloController()["index"])
serve { router.respond($0) }
</code></pre>
<p>ç„¶åç¼–è¯‘</p>
<pre><code>$~/project_path&gt;swift build
Compiling Swift Module 'test00' (2 sources)
Linking project_name
</code></pre>
<p>è¿è¡Œ:</p>
<pre><code>$~/project_path&gt;.build/debug/project_name
[2016-03-18 12:34:23 +0800] [80691] [INFO] Listening at http://0.0.0.0:8000    (80691)
[2016-03-18 12:34:23 +0800] [80692] [INFO] Booting worker process with pid: 80692
</code></pre>
<p>è¿™ä¸ªæ—¶å€™åœ¨æµè§ˆå™¨é‡Œæ‰“å¼€ http://127.0.0.1:8000 </p>
<p>æ‰“ä¸å¼€</p>
<p>å¯¹çš„, ä¸çœ‹åˆ°è¿™é‡Œçš„äººæ˜¯ä¼šæ‰å‘é‡Œçš„, æˆ‘æ•…æ„çš„.
å› ä¸ºåœ¨Kituraçš„vagrantfileé‡Œæ˜ å°„çš„ç«¯å£æ˜¯8090åˆ°8090, æ‰€ä»¥8000åœ¨å¤–è¾¹æ˜¯è®¿é—®ä¸åˆ°çš„, æœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥è§£å†³, ä¸€ä¸ªæ˜¯ä¿®æ”¹å¯åŠ¨çš„æ–¹å¼, ç”¨å‚æ•° --bind 0.0.0.0:8090. æˆ–è€…ç›´æ¥ä¿®æ”¹vagrantfileé‡Œçš„ç«¯å£æ˜ å°„éƒ¨åˆ†, å¤šåŠ ä¸ª8000åˆ°8000çš„æ˜ å°„å³å¯
ç„¶åç”¨æµè§ˆå™¨æ‰“å¼€, å°±ä¼šå‡ºç°ä¹…è¿çš„ </p>
<pre><code>{"hello": "world"}
</code></pre>
<h2>æ€»ç»“ä¸€ä¸‹</h2>
<p>å¤§ä½“ä¸Šæ¥è¯´ç”¨Swiftæ¥å¼€å‘æœåŠ¡ç«¯åº”ç”¨åº”è¯¥å…·å¤‡å¯ä»¥ç©è€çš„èƒ½åŠ›äº†, ä½†æ˜¯ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ç°åœ¨è¿˜ç¼ºä¹å¤§é‡çš„è½®å­ä»¥åŠæ–‡æ¡£å’Œå®æ“ç»éªŒ.
é€šè¿‡å¯¹Swiftonçš„ä»£ç ç ”ç©¶å‘ç°, Swiftçš„è¡¨è¾¾èƒ½åŠ›è¿˜æ˜¯å¾ˆå¼ºçš„, Swiftonçš„ä»£ç ç›¸å½“çš„çŸ­å°ç²¾æ‚. Curassowä¹Ÿæ˜¯ä¸€ä¸ªä»¿Gunicornçš„Server, çº¯Swiftå®ç°, ä¹Ÿéå¸¸çš„å€¼å¾—ç ”ç©¶ä»£ç , æ€§èƒ½å®æµ‹ç”±äºMacæœ¬åœ°å¹¶å‘æ•°çš„é™åˆ¶æ²¡æœ‰æ¢åˆ°å¤´, æœ‰ç©ºæ‰¾ä¸¤å°Ubuntuçš„æœºå™¨æ¥å®æµ‹ä¸€ä¸‹Curassow</p>
  </article>

  <div align="center">
  	<a href="#">
  	<i class="fa fa-arrow-circle-up fa-2x"></i>
  	</a>
  </div>
  
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'ipconfiger'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>
      </div>
    </div>

    <div class="footer" align="center">

  Copyright &copy; <a href=http://diezcami.github.io target="_blank">Camille Diez</a> 2015<BR />
  Powered by <a href=http://jekyllrb.com target="_blank">Jekyll</a>

</div>

  </body>
</html>