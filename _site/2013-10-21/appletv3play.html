<!doctype html>  
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]--> 
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]--> 
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]--> 
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]--> 
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]--> 
<head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
 
  <title>Apple TV3不完全试玩手册</title> 
  <meta name="author" content="压力很大同志的Blog" />
  <link href='http://fonts.googleapis.com/css?family=Lato:light,regular,bold' rel='stylesheet' type='text/css'>
  <link href="/css/reset.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/css/main.css" media="screen" rel="stylesheet" type="text/css" /> 
  <link rel="alternate" type="application/rss+xml" href="/atom.xml" title="RSS feed">
  <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
  <script src="highlight.min.js"></script>
</head> 
 
    <body> 
        <div id="header">
            <div class="inner">
                <ul>
                    <li><a href="http://www.cnblogs.com/Alexander-Lee/">旧BLOG</a></li>
                    <li><a href="http://weibo.com/alexislm" target="_blank">关注本猿</a></li>
                    <li><a href="/about/">关于本猿</a></li>
                </ul>
                <h1><a href="/">囧~压力好大</a></h1>
                <h2>程序猿-超级懒</h2>
            </div>
        </div>
                
        <div id="content" class="clearfix">
            <div class="main">
                <div class="post">
    <h3><a href="/2013-10-21/appletv3play.html">Apple TV3不完全试玩手册</a></h3>
  
    <div class="body">
        <h3>先来吐个槽</h3>
<p>入手Apple TV3是个很偶然的机会，之前一直想入手一个可以在电视上放网络电影的东西，所以试过很多不同奇葩的产品。最早是美如画的SD卡播放器，这货需要自己下载，传SD卡上，然后插电视，所以用起来非常不方便，所以用了没多久就束之高阁了。后来有个可以运行安卓系统的奇葩高清播放器，当时700多，片源很奇葩，操作很奇葩，说是安卓系统结果啥APP都装不了。最后折价处理掉了。后来出现了MK802这类安卓棒子，遂入了一个，便宜倒是便宜，不过需要外接一个无线鼠标，用起来响应速度还是不错，还能玩玩愤怒的小鸟，切切水果什么的，不过在沙发上用无线鼠标很是别扭。不过坏得也快，用了1个多月就坏掉了，一直停留在开机状态再也进不到系统了。之后有了树莓派，由于CPU很挫，所以XMBC跑起来相当的卡，而且XMBC又不能调用omxplayer去牛逼轰轰的玩硬解码1080p高清视频，因为omxplayer支持m3u8格式的HFS流播放方案，然后我就试图自己用百度网盘的API接口获取转码接口得到的m3u8文件通过omxplayer来播放。结果很容易出现音画不同步的情况。小米盒子，你抢得到么？抢到盒子的黄牛坐地起价要加400多，人争一口气佛争一炷香不买也罢。百度影棒？还会靠抢购的货，还只能用百度自家的片源。且各式各样的安卓盒子棒子什么的并不能良好的支持Airplay，所以干脆不看也不想，果断的Apple TV3了。</p>
<p>有空的时候会集其所有的盒子棒子做个横向对比，然后召唤神龙……
如果有好心人借我新小米盒子（抢不到），百度影棒（还是抢不到），阿里棒子（还没出)… 的话</p>
<h3>第一眼印象</h3>
<p>下面结束各种吐槽进入正题，我们来谈谈Apple TV3.（以下将用ATV3来表示）</p>
<p><img alt="image" src="http://www.techgradergeek.com/wp-content/uploads/2012/10/Apple-TV-3.png" /></p>
<p>先从外观入手，首先一个漂亮的外观是非常重要的，如果把ATV3和其他的盒子棒子放在一起就如同在停满大众的停车场里突然开进来一辆马萨拉蒂。有一个著名的理论就是如果看起来漂亮的飞机，一定是好飞机，窃以为同样的理论一样可以用于盒子界。如果都分不出精力来搞个漂亮的壳子，多半是因为连基本功能都还没调试妥当就拿出来销售了…</p>
<p>接口什么的就不用多说了，HDMI，网线（由于家里wifi不给力就插了跟网线，回头用Time Capsule来替换了），插上电源，把电视输入源切换到HDMI，然后哒哒~~~~</p>
<p><img alt="image" src="http://ww1.sinaimg.cn/large/578b198bgw1e9tcf54y0tj20jz0dajtp.jpg" /></p>
<p>其实经过实测itunes上的影片是可以播放的，没有被墙，但是慢是慢得可以，你要是能等的话，还是能用，另经过测试里面的电台功能是可以用的，很流畅。操作上通过remote来控制非常的流畅，毫无违和感，由于手里没有小米盒子无法对比，以后有机会再来。</p>
<p>需要流畅度的看片，我们只能这么干：</p>
<h3>DNS劫持可以破</h3>
<p>DNS劫持这回事，其实是用一个DNS代理将ATV3的预告片频道的请求通过DNS代理层次劫持到指定的服务器上，服务器冒名顶替了预告片频道的内容，用搜狐，优酷，迅雷等片源的内容替代了预告片频道内部的内容。</p>
<p>新浪微博上的@盒子大师 提供了国内很多片源的DNS劫持服务</p>
<p>具体实施过程如下：
<img alt="image" src="http://ww3.sinaimg.cn/large/578b198bgw1e9tcz12f6jj20ja0cr75r.jpg" /></p>
<p><img alt="image" src="http://ww1.sinaimg.cn/large/578b198bgw1e9td6uaua4j20ji0bjq3q.jpg" /></p>
<p><img alt="image" src="http://ww4.sinaimg.cn/large/578b198bgw1e9td8g3xa0j20jl0c1jsf.jpg" /></p>
<p><img alt="image" src="http://ww4.sinaimg.cn/large/578b198bgw1e9td9xri7rj20jq0b2aay.jpg" /></p>
<p><img alt="image" src="http://ww3.sinaimg.cn/large/578b198bgw1e9tdbbm7n5j20jx0cpt9u.jpg" /></p>
<p><img alt="image" src="http://ww1.sinaimg.cn/large/578b198bgw1e9tdedn2i8j20k30dujsq.jpg" /></p>
<p><img alt="image" src="http://ww2.sinaimg.cn/large/578b198bgw1e9tdfmzj3pj20je0bv3zk.jpg" /></p>
<p>设为这个值后一路点Remote，也就是遥控器上的Menu键回到首页，点击预告片：</p>
<p><img alt="image" src="http://ww4.sinaimg.cn/large/578b198bgw1e9tdhq1uusj20ju0eq76g.jpg" /></p>
<h3>世界将为你打开</h3>
<p><img alt="image" src="http://ww3.sinaimg.cn/large/578b198bgw1e9tdj34p8wj20kf0ecgob.jpg" /></p>
<p>去搜狐看看美剧：
<img alt="image" src="http://ww1.sinaimg.cn/large/578b198bgw1e9tdknyvkqj20k10ecmyi.jpg" /></p>
<p><img alt="image" src="http://ww1.sinaimg.cn/large/578b198bgw1e9tdlytd8mj20k90djta9.jpg" /></p>
<p>Airplay就不上图了，上图也看不出区别，自家产品用起来超级简单，稳定。</p>
<p>很多安卓盒子、棒子都说自己支持Airplay，结果实际使用起来只能说是一塌糊涂，估计都是用了同一个开源项目的代码而已。xmbc的Airplay音频尚可，视频是连上一次断开后第二次死活搜索不到设备，也是完全不具备可用性。</p>
<p>大部分执着于安卓盒子或者树莓派的人最后给出的说法是要看移动硬盘下载下来的，这个随便一个硬盘盒子播放器就能搞定的事情，至于这么兴师动众么</p>
<h3>开发者的福利</h3>
<p>对于自己有开发能力的同学来说，@盒子大师 留下的个人链接的口是一个很方便的途径让ATV可以播放自己的片源，NAS的也好，或者百度网盘上的影片。</p>
<p>百度网盘是个不错的主意，很适合影片的分享，而且上面的片子都比较新，所以，我们来看看如何在ATV上播放网盘里的影片。</p>
<p>首先，如果想创建个人链接，你必须先注册DNS的帐号。在这个地方</p>
<p>密码用你想要注册的密码，因为登录不成功后就会让你再输入一次刚才的密码，然后就用你之前填的用户名密码注册了。</p>
<p>注册后在电脑上打开浏览器进入  http://www.atvttvv.net/  然后用刚才注册的用户名和密码登录。</p>
<p>先无视掉那个超级简陋的界面，据说@盒子大师 在做新版，也许到时候会完善界面功能什么的。这个时候我们可以去先准备播放的链接了。</p>
<p>由于用百度网盘的片源，我不打算用比较极端的hack的方式来获取播放地址，而是通过百度开放API的接口，其中有一个视频转码的接口很是销魂，可以指定清晰度转换输出对应的mp4格式的影片。经过实际调用发现，由于百度采用了分布式的转码技术，所以其实返回的是已经转码完成片段的m3u8文件。但是由于转码速度的问题仍需要大概好几分钟才能转码完毕，但是有不会通知你转码完毕了，所以只能不停的调用这个接口，直到最后获取的m3u8文件的大小不再变化为止。</p>
<h4>首先我们要登录百度帐号获取到token</h4>
<h1>注意，下面内容因为百度云的云转码接口不稳定，待稳定后再补上</h1>
    </div>
    
    <div class="meta">
        Posted on <a href="/2013-10-21/appletv3play.html">2013-10-21 00:00:00</a>
    </div>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'ipconfiger'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
     
</div>
            </div>
            <div class="side">
                <a href="/about/"><img src="/images/me.png" alt="ME" style="width:125px;height:125px" /></a>
                <div>
                        80后，程序猿 ，咕咚网扫地大爷 <a href="/about/">更多</a>
                </div>
            </div>
        </div>
        
        <div id="footer" class="clearfix">
            <div class="inner">
                <div class="archives">
                    <h2>文章列表</h2>
            
                    <table>
                    
                        <tr>
                            <td class="date">2015年7d月19日</td>
                            <td><a href="/2015-07-19/bananatoast.html">程序员快手营养早餐-香蕉吐司卷</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2015年7d月14日</td>
                            <td><a href="/2015-07-14/programmer-and-coffee.html">简单做一杯好咖啡之Minipresso</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2015年7d月9日</td>
                            <td><a href="/2015-07-09/airpressor.html">程序员与咖啡：远离速溶用爱乐压做杯好咖啡</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2015年5d月13日</td>
                            <td><a href="/2015-05-13/GPS.html">为什么GPS记录的数据不准确</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2015年4d月7日</td>
                            <td><a href="/2015-04-07/bsbdqj-supervisor-subprocess.html">百撕不得骑姐系列之丢失的signal</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2015年4d月2日</td>
                            <td><a href="/2015-04-02/simple-rough-print-with-pi.html">不要驱动，简单粗暴的用树莓派驱动USB打印机</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2014年6d月25日</td>
                            <td><a href="/2014-06-25/coredata-guide-for-pythoner.html">给Python程序员的CoreData简单指南</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2014年6d月25日</td>
                            <td><a href="/2014-06-25/noblocking-coredata-in-multithread.html">通则不痛，远离阻塞-在多线程环境中使用CoreData，以及一个简单的封装</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2014年5d月11日</td>
                            <td><a href="/2014-05-11/使NodeJs的require能够加载变更后的模块.html">使NodeJs的require能够加载变更后的模块</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2014年5d月6日</td>
                            <td><a href="/2014-05-06/最近啥都没写，赶脚好有负罪感.html">最近啥都没写，赶脚好有负罪感</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2014年4d月4日</td>
                            <td><a href="/2014-04-04/redis-message-with-tornado.html">用Redis作为后端来实现高性能的Longpolling消息系统</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2014年1d月16日</td>
                            <td><a href="/2014-01-16/dynamic-object-mapping-for-json.html">动态映射json数据到objective-c的对象</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2014年1d月12日</td>
                            <td><a href="/2014-01-12/python-multitask-fixed.html">关于Python并行任务技巧的几点补完</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2013年11d月5日</td>
                            <td><a href="/2013-11-05/speedup-gunicorn-and-restart-gracefully.html">用meinheld加速gunicorn与优雅的重启gunicorn的worker</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2013年10d月21日</td>
                            <td><a href="/2013-10-21/appletv3play.html">Apple TV3不完全试玩手册</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2013年8d月8日</td>
                            <td><a href="/2013-08-08/torcast.html">基于Redis实现多个tornado进程间消息通信</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2011年12d月11日</td>
                            <td><a href="/2011-12-11/mysql-schemaless.html">MySQL数据库支持Schemaless的数据库存储方案</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2011年11d月12日</td>
                            <td><a href="/2011-11-12/django-long-conn.html">让Django支持数据库长连接</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2011年9d月27日</td>
                            <td><a href="/2011-09-27/translate-tornado-template-document.html">翻译处女作欢迎批评指正－tornado的模板系统文档</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2011年8d月23日</td>
                            <td><a href="/2011-08-23/test.html">A Test Post</a></td>
                        </tr>
                    
                        <tr>
                            <td class="date">2011年5d月2日</td>
                            <td><a href="/2011-05-02/tornado-for-django.html">在生产系统使用Tornado WebServer来代替FastCGI加速你的Django应用</a></td>
                        </tr>
                    
                    </table>
                </div>
            </div>
        </div>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>
    </body> 
</html>